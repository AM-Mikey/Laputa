[gd_scene format=4]

[ext_resource type="Script" path="res://src/Level/Level.gd" id="1_53evh"]
[ext_resource type="PackedScene" path="res://src/Background/LevelLimiter.tscn" id="2_72to3"]
[ext_resource type="Script" path="res://src/Background/LevelLimiter.gd" id="3_1n8rj"]
[ext_resource type="Resource" path="res://src/Background/TiledPlains.tres" id="3_8qmvv"]
[ext_resource type="Texture2D" path="res://assets/Background/TiledPlainsColor.png" id="4_leir5"]
[ext_resource type="TileSet" path="res://src/Tile/Debug.tres" id="5_5uu0q"]
[ext_resource type="PackedScene" path="res://src/Editor/Spawn/ActorSpawn.tscn" id="7_72to3"]
[ext_resource type="Script" path="res://src/Editor/Spawn/ActorSpawn.gd" id="8_sexp1"]
[ext_resource type="PackedScene" path="res://src/Editor/VanishingPoint.tscn" id="9_if8wo"]
[ext_resource type="PackedScene" path="res://src/Editor/Spawn/PropSpawn.tscn" id="9_leir5"]
[ext_resource type="Script" path="res://src/Editor/Spawn/PropSpawn.gd" id="10_8jk8i"]
[ext_resource type="PackedScene" path="res://src/Editor/SpawnPoint.tscn" id="10_h4mej"]
[ext_resource type="PackedScene" path="res://src/Editor/Spawn/TriggerSpawn.tscn" id="11_1n8rj"]
[ext_resource type="Script" path="res://src/Editor/Spawn/TriggerSpawn.gd" id="12_if8wo"]
[ext_resource type="Script" path="res://src/Editor/VanishingPoint.gd" id="14_h4mej"]
[ext_resource type="Script" path="res://src/Editor/SpawnPoint.gd" id="16_gby2n"]

[node name="MissionTest" type="Node2D" unique_id=734148647]
visibility_layer = 2
script = ExtResource("1_53evh")
level_name = "MissionTest"
dialog_json = "res://src/Dialog/MissionTest.json"
conversation_on_enter = "cutscene_talk_npc_a"
main_mission_level_update = "res://src/Mission/MissionTest.json"
debug_main_mission_stage = "talk_npc_a"

[node name="LevelLimiter" type="MarginContainer" parent="." unique_id=1355825292 instance=ExtResource("2_72to3")]
visibility_layer = 2
offset_left = 16.0
offset_top = 32.0
offset_right = 1040.0
offset_bottom = 304.0
mouse_filter = 2
script = ExtResource("3_1n8rj")
background_resource = ExtResource("3_8qmvv")
texture = ExtResource("4_leir5")
layers = 5
layer_scales = {
0: Vector2(0, 0),
1: Vector2(0.4, 0.4),
2: Vector2(0.5, 0.6),
3: Vector2(0.7, 0.7),
4: Vector2(0.9, 0.9)
}
layer_height_offsets = {
0: 0.0,
1: -100.0,
2: -50.0,
3: 0.0,
4: 0.0
}
tile_mode = 1

[node name="TileMap" type="Node2D" parent="." unique_id=1251495005]
visibility_layer = 2
z_index = 1

[node name="FarBack" type="TileMapLayer" parent="TileMap" unique_id=390810820]
visibility_layer = 2
z_index = -1
use_parent_material = true
tile_set = ExtResource("5_5uu0q")

[node name="Back" type="TileMapLayer" parent="TileMap" unique_id=54725277]
visibility_layer = 2
z_index = -1
use_parent_material = true
tile_map_data = PackedByteArray("AAAZABAAAAAAAAQAAAAZABEAAAAAAAUAAAARAAYAAAAAAAQAAAARAAcAAAAAAAUAAAAMAAYAAAAAAAQAAAAMAAcAAAAAAAUAAAAHAAYAAAAAAAQAAAAHAAcAAAAAAAUAAAACAAYAAAAAAAQAAAACAAcAAAAAAAUAAAA=")
tile_set = ExtResource("5_5uu0q")

[node name="Front" type="TileMapLayer" parent="TileMap" unique_id=1369203978]
visibility_layer = 2
z_index = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAABAAIAAAAAAAgAAAABAAMAAAAAAAgAAAABAAQAAAAAAAgAAAABAAYAAAAAAAgAAAABAAUAAAAAAAgAAAABAAcAAAAAAAgAAAABAAgAAAAAAAgAAAABAAkAAAAAAAgAAAABAAoAAAAAAAgAAAABAAsAAAAAAAgAAAABAAwAAAAAAAgAAAABAA0AAAAAAAgAAAABAA4AAAAAAAgAAAABAA8AAAAAAAgAAAABABAAAAAAAAgAAAABABEAAAAAAAgAAAABABIAAAAAAAgAAAACABIAAAAAAAgAAAADABIAAAAAAAgAAAAEABIAAAAAAAgAAAAFABIAAAAAAAgAAAAGABIAAAAAAAgAAAAHABIAAAAAAAgAAAAIABIAAAAAAAgAAAAJABIAAAAAAAgAAAAKABIAAAAAAAgAAAALABIAAAAAAAgAAAAMABIAAAAAAAgAAAANABIAAAAAAAgAAAAOABIAAAAAAAgAAAAPABIAAAAAAAgAAAAQABIAAAAAAAgAAAARABIAAAAAAAgAAAASABIAAAAAAAgAAAATABIAAAAAAAgAAAAUABIAAAAAAAgAAAAVABIAAAAAAAgAAAAWABIAAAAAAAgAAAAXABIAAAAAAAgAAAAYABIAAAAAAAgAAAAZABIAAAAAAAgAAAAaABIAAAAAAAgAAAAbABIAAAAAAAgAAAAcABIAAAAAAAgAAAAdABIAAAAAAAgAAAAeABIAAAAAAAgAAAAfABIAAAAAAAgAAAAgABIAAAAAAAgAAAAhABIAAAAAAAgAAAAiABIAAAAAAAgAAAAjABIAAAAAAAgAAAACAAsAAAAAAAgAAAADAAsAAAAAAAgAAAAEAAsAAAAAAAgAAAAGAAsAAAAAAAgAAAAJAAsAAAAAAAgAAAALAAsAAAAAAAgAAAAMAAsAAAAAAAgAAAANAAsAAAAAAAgAAAAOAAsAAAAAAAgAAAAQAAsAAAAAAAgAAAAPAAsAAAAAAAgAAAAKAAsAAAAAAAgAAAAIAAsAAAAAAAgAAAAHAAsAAAAAAAgAAAAFAAsAAAAAAAgAAAARAAsAAAAAAAgAAAARAAgAAAAAAAgAAAAQAAgAAAAAAAgAAAAPAAgAAAAAAAgAAAAOAAgAAAAAAAgAAAANAAgAAAAAAAgAAAAMAAgAAAAAAAgAAAALAAgAAAAAAAgAAAAKAAgAAAAAAAgAAAAJAAgAAAAAAAgAAAAIAAgAAAAAAAgAAAAHAAgAAAAAAAgAAAAGAAgAAAAAAAgAAAAFAAgAAAAAAAgAAAAEAAgAAAAAAAgAAAADAAgAAAAAAAgAAAACAAgAAAAAAAgAAAAGAAkAAAAAAAgAAAAGAAoAAAAAAAgAAAALAAkAAAAAAAgAAAALAAoAAAAAAAgAAAAQAAkAAAAAAAgAAAAQAAoAAAAAAAgAAAASAAgAAAAAAAgAAAATAAgAAAAAAAgAAAAUAAgAAAAAAAgAAAAUAAsAAAAAAAgAAAAVAAgAAAAAAAgAAAAVAAkAAAAAAAgAAAAVAAoAAAAAAAgAAAAVAAsAAAAAAAgAAAATAAsAAAAAAAgAAAASAAsAAAAAAAgAAAACAA4AAAAAAAgAAAADAA4AAAAAAAgAAAAEAA4AAAAAAAgAAAAFAA4AAAAAAAgAAAAGAA4AAAAAAAgAAAAHAA4AAAAAAAgAAAAIAA4AAAAAAAgAAAAJAA4AAAAAAAgAAAAKAA4AAAAAAAgAAAALAA4AAAAAAAgAAAAMAA4AAAAAAAgAAAANAA4AAAAAAAgAAAAOAA4AAAAAAAgAAAAPAA4AAAAAAAgAAAAQAA4AAAAAAAgAAAARAA4AAAAAAAgAAAASAA4AAAAAAAgAAAATAA4AAAAAAAgAAAAUAA4AAAAAAAgAAAAVAA4AAAAAAAgAAAAVAA0AAAAAAAgAAAAVAAwAAAAAAAgAAAAQAAwAAAAAAAgAAAAQAA0AAAAAAAgAAAALAAwAAAAAAAgAAAALAA0AAAAAAAgAAAAGAAwAAAAAAAgAAAAGAA0AAAAAAAgAAAAWAA8AAAAIAAgAAAAYAAwAAAAIAAgAAAAWAAkAAAAIAAgAAAA=")
tile_set = ExtResource("5_5uu0q")

[node name="FarFront" type="TileMapLayer" parent="TileMap" unique_id=444515251]
visibility_layer = 2
z_index = 2
use_parent_material = true
tile_set = ExtResource("5_5uu0q")

[node name="Props" type="Node2D" parent="." unique_id=319539188]
visibility_layer = 2

[node name="Actors" type="Node2D" parent="." unique_id=681899524]
visibility_layer = 2

[node name="Triggers" type="Node2D" parent="." unique_id=1134904630]
visibility_layer = 2

[node name="Spawns" type="Node2D" parent="." unique_id=1116492951]
visibility_layer = 2

[node name="Nun" type="Area2D" parent="Spawns" unique_id=1776323782 groups=["ActorSpawns", "Entities"] instance=ExtResource("7_72to3")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
position = Vector2(304, 288)
collision_layer = 16384
collision_mask = 0
script = ExtResource("8_sexp1")
actor_path = "res://src/Actor/NPC/Nun.tscn"
properties = {
"base_gravity": [300.0, 3],
"conversation": ["d_s0", 4],
"dialog_json": ["res://src/Dialog/MissionTest.json", 4],
"editor_hidden": [false, 1],
"id": ["npc_d", 4],
"speed": [Vector2(150, 350), 5],
"starting_state": ["idle", 4],
"voiced": [true, 1],
"walk_speed": [Vector2(50, 50), 5],
"water_gravity": [150.0, 3]
}

[node name="Tabith" type="Area2D" parent="Spawns" unique_id=1167471834 groups=["ActorSpawns", "Entities"] instance=ExtResource("7_72to3")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
position = Vector2(64, 288)
collision_layer = 16384
collision_mask = 0
script = ExtResource("8_sexp1")
actor_path = "res://src/Actor/NPC/Tabith.tscn"
properties = {
"base_gravity": [300.0, 3],
"conversation": ["a_s0", 4],
"dialog_json": ["res://src/Dialog/MissionTest.json", 4],
"editor_hidden": [false, 1],
"id": ["npc_a", 4],
"speed": [Vector2(150, 350), 5],
"starting_state": ["idle", 4],
"voiced": [true, 1],
"walk_speed": [Vector2(50, 50), 5],
"water_gravity": [150.0, 3]
}

[node name="Sage" type="Area2D" parent="Spawns" unique_id=757585549 groups=["ActorSpawns", "Entities"] instance=ExtResource("7_72to3")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
position = Vector2(144, 288)
collision_layer = 16384
collision_mask = 0
script = ExtResource("8_sexp1")
actor_path = "res://src/Actor/NPC/Sage.tscn"
properties = {
"base_gravity": [300.0, 3],
"conversation": ["b_s0", 4],
"dialog_json": ["res://src/Dialog/MissionTest.json", 4],
"editor_hidden": [false, 1],
"id": ["npc_b", 4],
"speed": [Vector2(150, 350), 5],
"starting_state": ["idle", 4],
"voiced": [true, 1],
"walk_speed": [Vector2(50, 50), 5],
"water_gravity": [150.0, 3]
}

[node name="Basil" type="Area2D" parent="Spawns" unique_id=282322422 groups=["ActorSpawns", "Entities"] instance=ExtResource("7_72to3")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
position = Vector2(232, 288)
collision_layer = 16384
collision_mask = 0
script = ExtResource("8_sexp1")
actor_path = "res://src/Actor/NPC/Basil.tscn"
properties = {
"base_gravity": [300.0, 3],
"conversation": ["c_s0", 4],
"dialog_json": ["res://src/Dialog/MissionTest.json", 4],
"editor_hidden": [false, 1],
"id": ["npc_c", 4],
"speed": [Vector2(150, 350), 5],
"starting_state": ["idle", 4],
"voiced": [true, 1],
"walk_speed": [Vector2(50, 50), 5],
"water_gravity": [150.0, 3]
}

[node name="ChestItem" type="Area2D" parent="Spawns" unique_id=201010743 groups=["Entities", "PropSpawns"] instance=ExtResource("9_leir5")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
position = Vector2(360, 272)
collision_layer = 16384
collision_mask = 0
script = ExtResource("10_8jk8i")
prop_path = "res://src/Prop/ChestItem.tscn"
properties = {
"editor_hidden": [false, 1],
"held_item_name": ["salmiakki", 4],
"id": ["", 4]
}

[node name="BreakBlock" type="Area2D" parent="Spawns" unique_id=40938396 groups=["Entities", "PropSpawns"] instance=ExtResource("9_leir5")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
position = Vector2(32, 208)
collision_layer = 16384
collision_mask = 0
script = ExtResource("10_8jk8i")
prop_path = "res://src/Prop/BreakBlock.tscn"
properties = {
"crush_enemies": [true, 1],
"crush_players": [false, 1],
"editor_hidden": [false, 1],
"id": ["box_a", 4]
}

[node name="BreakBlock1" type="Area2D" parent="Spawns" unique_id=914819466 groups=["Entities", "PropSpawns"] instance=ExtResource("9_leir5")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
position = Vector2(112, 208)
collision_layer = 16384
collision_mask = 0
script = ExtResource("10_8jk8i")
prop_path = "res://src/Prop/BreakBlock.tscn"
properties = {
"crush_enemies": [true, 1],
"crush_players": [false, 1],
"editor_hidden": [false, 1],
"id": ["box_b", 4]
}

[node name="BreakBlock2" type="Area2D" parent="Spawns" unique_id=1933557594 groups=["Entities", "PropSpawns"] instance=ExtResource("9_leir5")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
position = Vector2(192, 208)
collision_layer = 16384
collision_mask = 0
script = ExtResource("10_8jk8i")
prop_path = "res://src/Prop/BreakBlock.tscn"
properties = {
"crush_enemies": [true, 1],
"crush_players": [false, 1],
"editor_hidden": [false, 1],
"id": ["box_c", 4]
}

[node name="BreakBlock3" type="Area2D" parent="Spawns" unique_id=1524820434 groups=["Entities", "PropSpawns"] instance=ExtResource("9_leir5")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
position = Vector2(272, 208)
collision_layer = 16384
collision_mask = 0
script = ExtResource("10_8jk8i")
prop_path = "res://src/Prop/BreakBlock.tscn"
properties = {
"crush_enemies": [true, 1],
"crush_players": [false, 1],
"editor_hidden": [false, 1],
"id": ["box_d", 4]
}

[node name="Frog" type="Area2D" parent="Spawns" unique_id=901092885 groups=["ActorSpawns", "Entities"] instance=ExtResource("7_72to3")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
position = Vector2(40, 176)
collision_layer = 16384
collision_mask = 0
script = ExtResource("8_sexp1")
actor_path = "res://src/Actor/Enemy/Frog.tscn"
properties = {
"base_gravity": [300.0, 3],
"debug": [true, 1],
"editor_hidden": [false, 1],
"id": ["frog_a", 4],
"jump_delay": [3.0, 3],
"speed": [Vector2(50, 100), 5],
"water_gravity": [150.0, 3]
}

[node name="Frog1" type="Area2D" parent="Spawns" unique_id=521528727 groups=["ActorSpawns", "Entities"] instance=ExtResource("7_72to3")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
position = Vector2(120, 176)
collision_layer = 16384
collision_mask = 0
script = ExtResource("8_sexp1")
actor_path = "res://src/Actor/Enemy/Frog.tscn"
properties = {
"base_gravity": [300.0, 3],
"debug": [true, 1],
"editor_hidden": [false, 1],
"id": ["frog_b", 4],
"jump_delay": [3.0, 3],
"speed": [Vector2(50, 100), 5],
"water_gravity": [150.0, 3]
}

[node name="Frog2" type="Area2D" parent="Spawns" unique_id=57133467 groups=["ActorSpawns", "Entities"] instance=ExtResource("7_72to3")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
position = Vector2(200, 176)
collision_layer = 16384
collision_mask = 0
script = ExtResource("8_sexp1")
actor_path = "res://src/Actor/Enemy/Frog.tscn"
properties = {
"base_gravity": [300.0, 3],
"debug": [true, 1],
"editor_hidden": [false, 1],
"id": ["frog_c", 4],
"jump_delay": [3.0, 3],
"speed": [Vector2(50, 100), 5],
"water_gravity": [150.0, 3]
}

[node name="Frog3" type="Area2D" parent="Spawns" unique_id=103008614 groups=["ActorSpawns", "Entities"] instance=ExtResource("7_72to3")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
position = Vector2(280, 176)
collision_layer = 16384
collision_mask = 0
script = ExtResource("8_sexp1")
actor_path = "res://src/Actor/Enemy/Frog.tscn"
properties = {
"base_gravity": [300.0, 3],
"debug": [true, 1],
"editor_hidden": [false, 1],
"id": ["frog_d", 4],
"jump_delay": [3.0, 3],
"speed": [Vector2(50, 100), 5],
"water_gravity": [150.0, 3]
}

[node name="Door" type="MarginContainer" parent="Spawns" unique_id=2122957837 groups=["TriggerSpawns"] instance=ExtResource("11_1n8rj")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
custom_minimum_size = Vector2(8, 8)
offset_left = 32.0
offset_top = 96.0
offset_right = 48.0
offset_bottom = 128.0
mouse_filter = 2
script = ExtResource("12_if8wo")
trigger_path = "res://src/Trigger/Door.tscn"
properties = {
"color": [Color(0, 0.4, 0, 1), 20],
"door_index": [0, 2],
"editor_hidden": [false, 1],
"id": ["door_a", 4],
"level": ["", 4],
"locked": [false, 1],
"same_level": [true, 1],
"same_level_next_index": [1, 2]
}
size_is_default = false

[node name="Door1" type="MarginContainer" parent="Spawns" unique_id=12704265 groups=["TriggerSpawns"] instance=ExtResource("11_1n8rj")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
custom_minimum_size = Vector2(8, 8)
offset_left = 112.0
offset_top = 96.0
offset_right = 128.0
offset_bottom = 128.0
mouse_filter = 2
script = ExtResource("12_if8wo")
trigger_path = "res://src/Trigger/Door.tscn"
properties = {
"color": [Color(0, 0.4, 0, 1), 20],
"door_index": [0, 2],
"editor_hidden": [false, 1],
"id": ["door_b", 4],
"level": ["", 4],
"locked": [false, 1],
"same_level": [true, 1],
"same_level_next_index": [1, 2]
}
size_is_default = false

[node name="Door2" type="MarginContainer" parent="Spawns" unique_id=1077282901 groups=["TriggerSpawns"] instance=ExtResource("11_1n8rj")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
custom_minimum_size = Vector2(8, 8)
offset_left = 192.0
offset_top = 96.0
offset_right = 208.0
offset_bottom = 128.0
mouse_filter = 2
script = ExtResource("12_if8wo")
trigger_path = "res://src/Trigger/Door.tscn"
properties = {
"color": [Color(0, 0.4, 0, 1), 20],
"door_index": [0, 2],
"editor_hidden": [false, 1],
"id": ["door_c", 4],
"level": ["", 4],
"locked": [false, 1],
"same_level": [true, 1],
"same_level_next_index": [1, 2]
}
size_is_default = false

[node name="Door3" type="MarginContainer" parent="Spawns" unique_id=1453521036 groups=["TriggerSpawns"] instance=ExtResource("11_1n8rj")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
custom_minimum_size = Vector2(8, 8)
offset_left = 272.0
offset_top = 96.0
offset_right = 288.0
offset_bottom = 128.0
mouse_filter = 2
script = ExtResource("12_if8wo")
trigger_path = "res://src/Trigger/Door.tscn"
properties = {
"color": [Color(0, 0.4, 0, 1), 20],
"door_index": [0, 2],
"editor_hidden": [false, 1],
"id": ["door_d", 4],
"level": ["", 4],
"locked": [false, 1],
"same_level": [true, 1],
"same_level_next_index": [1, 2]
}
size_is_default = false

[node name="Door4" type="MarginContainer" parent="Spawns" unique_id=1797776311 groups=["TriggerSpawns"] instance=ExtResource("11_1n8rj")]
modulate = Color(1, 1, 1, 0.75)
visibility_layer = 2
z_index = 999
custom_minimum_size = Vector2(8, 8)
offset_left = 400.0
offset_top = 256.0
offset_right = 416.0
offset_bottom = 288.0
mouse_filter = 2
script = ExtResource("12_if8wo")
trigger_path = "res://src/Trigger/Door.tscn"
properties = {
"color": [Color(0, 0.4, 0, 1), 20],
"door_index": [1, 2],
"editor_hidden": [false, 1],
"id": ["", 4],
"level": ["", 4],
"locked": [false, 1],
"same_level": [true, 1],
"same_level_next_index": [0, 2]
}
size_is_default = false

[node name="VanishingPoint" type="Area2D" parent="." unique_id=9884164 groups=["VanishingPoints"] instance=ExtResource("9_if8wo")]
visibility_layer = 2
z_index = 999
position = Vector2(296, -152)
collision_layer = 16384
collision_mask = 0
script = ExtResource("14_h4mej")

[node name="SpawnPoint" type="Area2D" parent="." unique_id=422711910 groups=["SpawnPoints"] instance=ExtResource("10_h4mej")]
visibility_layer = 2
position = Vector2(184, 288)
collision_layer = 16384
collision_mask = 0
script = ExtResource("16_gby2n")
